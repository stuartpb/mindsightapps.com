<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Mindsight Apps Logo Color Adjustment</title>
<script src="colorpicker.js"></script>
<style>
html, body {
  overflow: hidden;
  height:100%;
  margin: 0;
  padding: 0;
}

/* This is an enormous hack and I hate it. */
#logo-top-margin {
  height: 10% 
}

#logo {
  height: 80%;
  width: 80%;
  float: left;
}

#sidebar {
  height: 100%;
  width: 20%;
  position:relative;
  float:right;
}

.colorform {
  clear:right;
  position:relative;
  float:right;
  height:33.333333%;
  width:100%;
}

.graphic {
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.wrapper {
  position: relative;
  float: left;
}

.picker.wrapper {
  width:95%;
}

.slider.wrapper {
  width: 5%;
}

.indicator {
  position: absolute 
}

.picker.indicator {
  width: 1px;
  height: 1px;
  border: 1px solid black;
  background-color: white;
}

.slider.indicator {
  width: 100%;
  height: 4px;
  left:0;
  background-color: black;
}

input {

}
</style>
</head>
<body>
<div id="sidebar"></div>
<div id="logo-top-margin"></div>
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   viewBox="0 0 64 64"
   id="logo"
   version="1.1">
  <metadata
     id="metadata2990">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     id="ground-layer">
    <path
       style="fill:#d5e5ff;fill-opacity:1;stroke:none"
       id="ground"
       d="M 64,32 A 32,32 0 1 1 0,32 32,32 0 1 1 64,32 z" />
  </g>
  <g
     id="iris-layer">
    <path
       style="fill:#00aad4;fill-opacity:1;stroke:none"
       id="iris"
       d="m 48,44 a 16,16 0 1 1 -32,0 16,16 0 1 1 32,0 z"
       transform="translate(0,-4)" />
  </g>
  <g
     id="figure-layer">
    <path
       style="fill:#004455;fill-opacity:1;stroke:none"
       d="M 32,0 C 14.326888,0 0,14.326888 0,32 0,49.673112 14.326888,64 32,64 24.225397,64 16.478548,58.355081 12,52 8.0836237,46.442643 5.3982529,38.281173 8,32 c 1.839713,-4.44146 6.502525,-8 12,-8 8,0 2.28125,8 2.28125,16 0,4.807402 1.75224,8.856891 7,9.28125 7.006067,0.566545 7.487518,-5.298435 9.5,-7.46875 0.946962,-1.021229 3.792613,-0.97159 12.65625,0.1875 0,0 -2.787793,-1.21913 -5.03125,-1.65625 C 44.353109,39.943711 42.953602,39.546773 42.59375,39.25 40.899509,37.852746 40.957752,35.164027 37.625,35.21875 33.410593,35.28795 34.375,43.625 30.375,43.625 26.375,43.625 31.999999,24 40,24 c 8,0 13.380214,2.643483 16,8 2.987015,6.107369 -0.08362,14.442643 -4,20 C 47.521452,58.355081 39.774603,64 32,64 49.673112,64 64,49.673112 64,32 64,14.326888 49.673112,0 32,0 z"
       id="figure" />
  </g>
</svg>
<script>
var parts = ["figure","iris","ground"]
  
if (location.hash && location.hash.substr(1,1) == '!'){
  for (var i=0;i<parts.length;i++){
    var color = location.hash.substr(2+i*6,6)
    if (color.match(/^[0-9A-Fa-f]{6}$/)){
      document.getElementById(parts[i]).style.fill = '#' + color
    }
  }
}

function changeLocation(){
  var fragment = '#!'
  for (var i=0;i<parts.length;i++){
    fragment += document.getElementById(parts[i]).style.fill.substr(1)
  }
  location.hash = fragment
}

function makePicker(id){
  var pickerElem = document.createElement('div')
  pickerElem.className = "picker graphic"
  var sliderElem = document.createElement('div')
  sliderElem.className = "slider graphic"
  var pickerWrap = document.createElement('div')
  pickerWrap.className = "picker wrapper"
  var sliderWrap = document.createElement('div')
  sliderWrap.className = "slider wrapper"
  var pickerInd = document.createElement('div')
  pickerInd.className = "picker indicator"
  var sliderInd = document.createElement('div')
  sliderInd.className = "slider indicator"
  var container = document.createElement('div')
  container.className = "colorform"
  pickerWrap.appendChild(pickerElem)
  sliderWrap.appendChild(sliderElem)
  pickerWrap.appendChild(pickerInd)
  sliderWrap.appendChild(sliderInd)
  container.appendChild(pickerWrap)
  container.appendChild(sliderWrap)
  document.getElementById('sidebar').appendChild(container)
  var cp = ColorPicker(sliderElem,pickerElem,
  function(hex, hsv, rgb, mousePicker, mouseSlide){
    document.getElementById(id).style.fill = hex
    ColorPicker.positionIndicators(sliderInd,pickerInd,mouseSlide, mousePicker);
    changeLocation();
  });
  cp.setHex(document.getElementById(id).style.fill)
}

for (var i=0;i<parts.length;i++){
  makePicker(parts[i])
}
</script>
</body>
</html>